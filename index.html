<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Muscle Log</title>

<style>
:root {
  --bg:#f2f2f2;
  --card:#ffffff;
  --accent:#c9a227;
  --text:#111;
  --muted:#666;
  --border:#e0e0e0;
}

* {
  box-sizing:border-box;
}

body {
  margin:0;
  padding:18px;
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;
}

h1 {
  text-align:center;
  font-weight:600;
  letter-spacing:0.4px;
  margin-bottom:18px;
}

h2 {
  color:var(--accent);
  font-weight:500;
  margin:10px 0;
}

h3 {
  color:var(--muted);
  font-weight:500;
  margin-top:14px;
}

button {
  width:100%;
  padding:14px;
  margin:8px 0;
  background:#2b2b2b;
  color:#fff;
  border:none;
  border-radius:16px;
  font-size:15px;
  font-weight:500;
  box-shadow:0 6px 16px rgba(0,0,0,0.15);
  transition:transform 0.1s ease, box-shadow 0.1s ease;
}

button:active {
  transform:scale(0.97);
  box-shadow:0 3px 8px rgba(0,0,0,0.2);
}

.exercise.active {
  background:var(--accent);
  color:#000;
}

.card {
  background:var(--card);
  border-radius:18px;
  padding:16px;
  margin:14px 0;
  box-shadow:0 8px 20px rgba(0,0,0,0.12);
}

input {
  width:100%;
  padding:14px;
  margin:8px 0;
  background:#fafafa;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:16px;
  font-size:15px;
}

input::placeholder {
  color:#999;
}

.timer {
  font-size:36px;
  font-weight:600;
  text-align:center;
  color:var(--accent);
  margin:10px 0;
}

.log {
  font-size:14px;
  padding:8px 0;
  border-bottom:1px solid var(--border);
  line-height:1.4;
}

.small {
  font-size:13px;
  color:var(--muted);
  margin-bottom:6px;
}
</style>
</head>

<body>

<h1>Muscle Log</h1>
  <button onclick="location.href='log.html'">View Log</button>

<button id="dayA">Day A – Heavy</button>
<button id="dayB">Day B – Volume</button>

<div class="card" id="status">No exercise selected</div>
<div class="card" id="sets">Set: 0</div>

<button id="changeExercise">Change Exercise</button>

<div class="card">
  <div class="small">Custom exercise</div>
  <input id="customExercise" placeholder="Type any exercise">
  <button id="useCustom">Use this exercise</button>
</div>

<div id="exerciseList"></div>

<input id="weight" placeholder="Weight (kg)">
<input id="reps" placeholder="Reps">
<input id="rir" placeholder="RIR">

<button id="saveSet">Save Set</button>

<div class="card">
  <h2>Rest Timer</h2>
  <div class="small">Rest time (seconds)</div>
  <input id="restInput" type="number" value="60">
  <div class="timer" id="timer">01:00</div>
  <button id="startTimer">Start</button>
  <button id="resetTimer">Reset</button>
</div>

<div class="card">
  <h2>Log</h2>
  <div id="log"></div>
</div>

<script>
/* ELEMENTS */
const statusDiv = document.getElementById("status");
const setsDiv = document.getElementById("sets");
const exerciseList = document.getElementById("exerciseList");
const logDiv = document.getElementById("log");

const customInput = document.getElementById("customExercise");
const restInput = document.getElementById("restInput");
const timerDisplay = document.getElementById("timer");

const weightInput = document.getElementById("weight");
const repsInput = document.getElementById("reps");
const rirInput = document.getElementById("rir");

/* DATA */
const workouts = {
  A:["Goblet Squat","RDL","Push-Ups","OHP","Row","Pull-ups"],
  B:["Split Squat","DB RDL","DB Press","Lateral Raise","Curl","Triceps"]
};

let currentDay = "A";
let currentExercise = "";
let setCount = 0;
let timer = 60;
let interval = null;
let logs = JSON.parse(localStorage.getItem("logs") || "[]");

/* LOAD DAY */
function loadDay(day){
  currentDay = day;
  exerciseList.innerHTML = "";
  currentExercise = "";
  setCount = 0;
  setsDiv.innerText = "Set: 0";
  statusDiv.innerText = "No exercise selected";

  workouts[day].forEach(name=>{
    const btn = document.createElement("button");
    btn.innerText = name;
    btn.className = "exercise";
    btn.onclick = () => selectExercise(name, btn);
    exerciseList.appendChild(btn);
  });
}

/* SELECT EXERCISE */
function selectExercise(name, btn){
  document.querySelectorAll(".exercise").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
  currentExercise = name;
  setCount = 0;
  setsDiv.innerText = "Set: 0";
  statusDiv.innerText = "Selected: " + name;
}

/* CUSTOM EXERCISE */
function useCustomExercise(){
  const name = customInput.value.trim();
  if(!name) return alert("Enter exercise name");

  document.querySelectorAll(".exercise").forEach(b=>b.classList.remove("active"));
  currentExercise = name;
  setCount = 0;
  setsDiv.innerText = "Set: 0";
  statusDiv.innerText = "Selected: " + name;
  customInput.value = "";
}

/* CHANGE EXERCISE */
function changeExercise(){
  loadDay(currentDay);
}

/* SAVE SET */
function saveSet(){
  if(!currentExercise) return alert("Select an exercise first");

  setCount++;
  setsDiv.innerText = "Set: " + setCount;

  logs.push({
    date:new Date().toISOString().split("T")[0],
    day:currentDay,
    exercise:currentExercise,
    weight:weightInput.value,
    reps:repsInput.value,
    rir:rirInput.value
  });

  localStorage.setItem("logs", JSON.stringify(logs));
  drawLog();
}

/* DRAW LOG */
function drawLog(){
  logDiv.innerHTML = "";
  logs.slice().reverse().forEach(e=>{
    logDiv.innerHTML += `<div class="log">${e.day} – ${e.exercise} — ${e.weight}kg × ${e.reps}</div>`;
  });
}

/* TIMER */
function startTimer(){
  if(interval) return;
  timer = parseInt(restInput.value) || 60;
  updateTimer();

  interval = setInterval(()=>{
    timer--;
    updateTimer();
    if(timer <= 0){
      clearInterval(interval);
      interval = null;
      if(navigator.vibrate) navigator.vibrate([300,150,300]);
    }
  },1000);
}

function resetTimer(){
  clearInterval(interval);
  interval = null;
  timer = parseInt(restInput.value) || 60;
  updateTimer();
}

function updateTimer(){
  timerDisplay.innerText = "00:" + String(timer).padStart(2,"0");
}

/* BUTTON WIRING */
document.getElementById("dayA").onclick = () => loadDay("A");
document.getElementById("dayB").onclick = () => loadDay("B");
document.getElementById("useCustom").onclick = useCustomExercise;
document.getElementById("changeExercise").onclick = changeExercise;
document.getElementById("saveSet").onclick = saveSet;
document.getElementById("startTimer").onclick = startTimer;
document.getElementById("resetTimer").onclick = resetTimer;

/* INIT */
loadDay("A");
drawLog();
updateTimer();
</script>

</body>
</html>



