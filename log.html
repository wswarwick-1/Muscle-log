const logs = JSON.parse(localStorage.getItem("trainingLogs")) || [];
const container = document.getElementById("logContainer");

container.innerHTML = "";

if (logs.length === 0) {
  container.innerHTML = "<p style='color:#aaa'>No logs yet</p>";
} else {
  const grouped = {};

  logs.forEach(l => {
    grouped[l.workout] ??= {};
    grouped[l.workout][l.date] ??= [];
    grouped[l.workout][l.date].push(l);
  });

  Object.keys(grouped).forEach(workout => {
    container.innerHTML += `<h2 style="color:#f2c94c">${workout}</h2>`;

    Object.keys(grouped[workout]).reverse().forEach(date => {
      container.innerHTML += `<div class="card"><strong>${date}</strong>`;

      grouped[workout][date].forEach(l => {
        container.innerHTML += `
          <div style="margin-top:6px;color:#ccc">
            ${l.exercise} — ${l.weight}kg × ${l.reps}
          </div>`;
      });

      container.innerHTML += `</div>`;
    });
  });
}
