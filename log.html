<script>
const logs = JSON.parse(localStorage.getItem("logs")) || [];
const container = document.getElementById("logContent");

if (logs.length === 0) {
  container.innerHTML = "<p>No logs yet</p>";
} else {
  const grouped = {};

  logs.forEach(l => {
    if (!grouped[l.workout]) grouped[l.workout] = {};
    if (!grouped[l.workout][l.date]) grouped[l.workout][l.date] = [];
    grouped[l.workout][l.date].push(l);
  });

  Object.keys(grouped).forEach(workout => {
    container.innerHTML += `<h2>${workout}</h2>`;

    Object.keys(grouped[workout]).reverse().forEach(date => {
      container.innerHTML += `<div class="card"><strong>${date}</strong>`;

      grouped[workout][date].forEach(l => {
        container.innerHTML += `
          <div class="small">
            ${l.exercise} — ${l.weight}kg × ${l.reps}
          </div>`;
      });

      container.innerHTML += `</div>`;
    });
  });
}
</script>
