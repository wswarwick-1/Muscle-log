function saveSet(){
  if(!currentExercise) return;

  const w = weight.value;
  const r = reps.value;
  if(!w || !r) return;

  setCount++;

  const entry = {
    date: new Date().toISOString().slice(0,10),
    workout: workoutSelect.value,
    exercise: currentExercise,
    weight: w,
    reps: r
  };

  logs.push(entry);
  localStorage.setItem("logs", JSON.stringify(logs));

  // PR logic
  if (!prs[currentExercise] || w > prs[currentExercise].weight) {
    prs[currentExercise] = { weight: w, reps: r };
    localStorage.setItem("prs", JSON.stringify(prs));
  }

  document.getElementById("last").textContent = `${w}kg x ${r}`;
  document.getElementById("pr").textContent =
    `${prs[currentExercise].weight}kg x ${prs[currentExercise].reps}`;

  document.getElementById("setCount").textContent = setCount;

  weight.value = "";
  reps.value = "";
}
